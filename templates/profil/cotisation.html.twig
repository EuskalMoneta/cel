{% extends 'base.html.twig' %}

{% form_theme form 'bootstrap_4_layout.html.twig' %}

{% block body %}
    <div class="container">
        <div class="row">
            <div class="col-sm-12 col-md-8 offset-md-2 mt-1">
                <h2 class="secondary-color mb-2">{{ 'Profil' | trans }} >  {{ 'Cotisation' | trans }}</h2>

                <p style="font-size: 14px">{{"Cotisation" | trans }} : <i class="fa fa-check green" style="font-size: 18px;"></i> {{"Ã€ jour" | trans }} ({{ membre.last_subscription_date_end | localizeddate('medium', 'none') }})</p>

                {{ form(form) }}
            </div>
        </div>
    </div>
{% endblock %}


{% block js %}
    <script type="text/javascript">
        $(document).ready(function(){

            function disableMonthly() {
                $("#form_options_prelevement_cotisation_periodicite_1").attr("disabled", true);
                $("#form_options_prelevement_cotisation_periodicite_1").prop("checked", false);
                $("#form_options_prelevement_cotisation_periodicite_0").prop("checked", true);
                
            }
            if($("#form_options_prelevement_cotisation_montant_3").prop("checked") == true){
                disableMonthly();
            }

            $("input[name='form[options_prelevement_cotisation_montant]']").change(function() {
                if($(this).val() == '5'){
                    disableMonthly();
                } else {
                    $("#form_options_prelevement_cotisation_periodicite_1").attr("disabled", false);
                }
            });

        });
    </script>
{% endblock %}
